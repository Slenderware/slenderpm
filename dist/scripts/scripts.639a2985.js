angular.module("ngSlenderComments.config",[]).value("ngSlenderComments.config",{debug:!0}),angular.module("ngSlenderComments.directives",[]),angular.module("ngSlenderComments.filters",[]),angular.module("ngSlenderComments.services",[]),angular.module("ngSlenderComments.controllers",[]),angular.module("ngSlenderComments",["ngSlenderComments.config","ngSlenderComments.directives","ngSlenderComments.filters","ngSlenderComments.services","ngSlenderComments.controllers"]),angular.module("ngSlenderComments.directives",[]).directive("taskComments",function(){return{templateUrl:"modules/task/submodules/ngSlenderComments/ngSlenderComments.html"}}),angular.module("ngSlenderList.config",[]).value("ngSlenderList.config",{debug:!0}),angular.module("ngSlenderList.directives",[]),angular.module("ngSlenderList.filters",[]),angular.module("ngSlenderList.services",[]),angular.module("ngSlenderList.controllers",[]),angular.module("ngSlenderList",["ngSlenderList.config","ngSlenderList.directives","ngSlenderList.filters","ngSlenderList.services","ngSlenderList.controllers"]),angular.module("ngSlenderList.directives",[]).directive("taskList",function(){return{templateUrl:"modules/task/submodules/ngSlenderList/ngSlenderList.html",restrict:"E"}}),angular.module("ngSlenderProgress.config",[]).value("ngSlenderProgress.config",{debug:!0}),angular.module("ngSlenderProgress.directives",[]),angular.module("ngSlenderProgress.filters",[]),angular.module("ngSlenderProgress.services",[]),angular.module("ngSlenderProgress.controllers",[]),angular.module("ngSlenderProgress",["ngSlenderProgress.config","ngSlenderProgress.directives","ngSlenderProgress.filters","ngSlenderProgress.services","ngSlenderProgress.controllers"]),angular.module("ngSlenderProgress.directives",[]).directive("taskProgress",function(){return{templateUrl:"modules/task/submodules/ngSlenderProgress/ngSlenderProgress.html",restrict:"E"}}),angular.module("ngSlenderAttachments.config",[]).value("ngSlenderAttachments.config",{debug:!0}),angular.module("ngSlenderAttachments.directives",[]),angular.module("ngSlenderAttachments.filters",[]),angular.module("ngSlenderAttachments.services",[]),angular.module("ngSlenderAttachments",["ngSlenderAttachments.config","ngSlenderAttachments.directives","ngSlenderAttachments.filters","ngSlenderAttachments.services"]),angular.module("ngSlenderAttachments.directives",[]).directive("taskAttachments",function(){return{templateUrl:"modules/task/submodules/ngSlenderAttachments/ngSlenderAttachments.html"}}),angular.module("ngSlenderUserList.config",[]).value("ngSlenderUserList.config",{debug:!0}),angular.module("ngSlenderUserList.directives",[]),angular.module("ngSlenderUserList.filters",[]),angular.module("ngSlenderUserList.services",[]),angular.module("ngSlenderUserList.controllers",[]),angular.module("ngSlenderUserList",["ngSlenderUserList.config","ngSlenderUserList.directives","ngSlenderUserList.filters","ngSlenderUserList.services","ngSlenderUserList.controllers"]),angular.module("ngSlenderUserList.directives",[]).directive("taskUserList",function(){return{templateUrl:"modules/task/submodules/ngSlenderUserList/ngSlenderUserList.html"}}),angular.module("slenderpmApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","slenderpmApp.login","slenderpmApp.register","slenderpmApp.task","slenderpmApp.menu","slenderpmApp.gantt","slenderpmApp.comment","slenderpmApp.resource"]).run(["$rootScope",function(a){a.RESTURI="http://www.slenderware.co.za/slenderware-webservice-rest/webresources/",a.HEADERS={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, GET, OPTIONS, PUT","Content-Type":"application/json",Accept:"application/json"}}]).factory("ResultModule",function(){var a=function(a,b){this.success=a,this.message=b};return a}).factory("SessionModule",function(){var a=function(a,b,c){this.username=a,this.page=b,this.token=c};return this.toString=function(){return console.log(this.username+", "+this.page+", "+this.token),this.username+", "+this.page+", "+this.token},a}).config(["$routeProvider",function(a){a.when("/Tasks",{templateUrl:"modules/task/views/tasks.html",controller:"TasksCtrl"}).when("/Gantt",{templateUrl:"modules/gantt/views/gantt.html",controller:"GanttCtrl"}).when("/Comments",{templateUrl:"modules/comment/views/comments.html",controller:"CommentsCtrl"}).when("/Resources",{templateUrl:"modules/resource/views/resources.html",controller:"ResourcesCtrl"}).when("/Login",{templateUrl:"modules/login/views/login.html",controller:"LoginCtrl"}).when("/Register",{templateUrl:"modules/register/views/register.html",controller:"RegisterCtrl"}).otherwise({redirectTo:"/Login"})}]),angular.module("slenderpmApp.login.config",[]).value("slenderpmApp.login.config",{debug:!0}),angular.module("slenderpmApp.login.directive",[]),angular.module("slenderpmApp.login.factory",[]),angular.module("slenderpmApp.login.service",[]),angular.module("slenderpmApp.login.controller",[]),angular.module("slenderpmApp.login",["slenderpmApp.login.config","slenderpmApp.login.directive","slenderpmApp.login.factory","slenderpmApp.login.service","slenderpmApp.login.controller"]),angular.module("slenderpmApp.login.factory").factory("LoginModule",function(){var a=function(a,b){this.username=a,this.password=b};return a}),angular.module("slenderpmApp.login.service").service("LoginService",["$http","$location","$q","$cookies","ResultModule","LoginModule",function(a,b,c,d,e,f){this.InitLoginModule=function(a,b){return new f(a,b)},this.Authenticate=function(b,d,e){var f=c.defer();return a({method:"POST",url:e.concat("accounts/authenticate"),data:"username="+b+"&password="+d,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){f.resolve(a)}).error(function(a){f.resolve(a)}),f.promise},this.GetUser=function(b){var e=c.defer();return a({method:"POST",url:b.concat("users/getUserBySession"),data:"sessionId="+d.session,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.Register=function(){b.path("Register")},this.IsAuthenticated=function(){void 0!==d.session&&b.path("Tasks")}}]),angular.module("slenderpmApp.login.controller").controller("LoginCtrl",["$rootScope","$scope","$cookies","$location","LoginService",function(a,b,c,d,e){e.IsAuthenticated(),b.register=function(){e.Register()},b.authenticate=function(){e.Authenticate(b.username,b.password,b.RESTURI).then(function(a){b.result=angular.fromJson(a),b.result.success&&(d.path("Tasks"),c.session=b.result.sessionId)})},b.validate=function(a){return void 0===a?!0:0===a.length?!1:!0}}]),angular.module("slenderpmApp.register.config",[]).value("slenderpmApp.register.config",{debug:!0}),angular.module("slenderpmApp.register.directive",[]),angular.module("slenderpmApp.register.factory",[]),angular.module("slenderpmApp.register.service",[]),angular.module("slenderpmApp.register.controller",[]),angular.module("slenderpmApp.register",["slenderpmApp.register.config","slenderpmApp.register.directive","slenderpmApp.register.factory","slenderpmApp.register.service","slenderpmApp.register.controller"]),angular.module("slenderpmApp.register.factory").factory("RegisterModule",function(){var a=function(a,b,c,d,e){this.id=null,this.firstName=a,this.lastName=b,this.username=c,this.email=d,this.password=e,this.roleId=null,this.companyId=null,this.lastSeen=null};return a}).factory("RegisterCompanyModule",function(){var a=function(a){this.name=a};return a}),angular.module("slenderpmApp.register.service").service("RegisterService",["$http","$location","$q","$cookies","RegisterModule","RegisterCompanyModule","ResultModule",function(a,b,c,d,e,f){this.InitRegisterModule=function(a,b,c,d,f){return new e(a,b,c,d,f)},this.InitRegisterCompanyModule=function(a){return new f(a)},this.IsAuthenticated=function(){void 0!==d.session&&b.path("Tasks")},this.RegisterUser=function(b,d){var e=c.defer();return console.log(JSON.stringify(b)),a({method:"POST",url:d.concat("acounts/authentication/addUser"),data:JSON.stringify(b),headers:{"Content-Type":"application/json"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.RegisterCompany=function(b,d){var e=c.defer();return console.log(JSON.stringify(b)),a({method:"POST",url:d.concat("acounts/authentication/addCompany"),data:JSON.stringify(b),headers:{"Content-Type":"application/json"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.Back=function(){b.path("Login")}}]),angular.module("slenderpmApp.register.controller").controller("RegisterCtrl",["$scope","RegisterService",function(a,b){a.registerUser=function(c,d,e,f,g){var h=b.InitRegisterModule(c,d,e,f,g);b.RegisterUser(h,a.RESTURI).then(function(b){a.result=angular.fromJson(b)})},a.registerCompany=function(c){var d=b.InitRegisterCompanyModule(c);b.RegisterCompany(d,a.RESTURI).then(function(b){a.result=angular.fromJson(b),a.stage=a.stage+1})},a.back=function(){b.Back()},a.stage=0,a.validate=function(a){return void 0===a?!0:0===a.length?!1:!0}}]),angular.module("slenderpmApp.task.config",[]).value("slenderpmApp.task.config",{debug:!0}),angular.module("slenderpmApp.task.directive",[]),angular.module("slenderpmApp.task.factory",[]),angular.module("slenderpmApp.task.service",[]),angular.module("slenderpmApp.task.controller",[]),angular.module("slenderpmApp.task",["ngSlenderUserList","ngSlenderAttachments","ngSlenderComments","ngSlenderProgress","ngSlenderList","slenderpmApp.task.config","slenderpmApp.task.directive","slenderpmApp.task.factory","slenderpmApp.task.service","slenderpmApp.task.controller"]),angular.module("slenderpmApp.task.factory"),angular.module("slenderpmApp.task.service").service("TasksService",["$http","$q",function(a,b){this.GetTasks=function(c,d){var e=b.defer();return a({method:"POST",url:d.concat("projects/getProjectTasks"),data:"id="+c,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.GetSubTasks=function(){return'[{"id":"1", "title":"Task1"},{"id":"2", "title":"Task2"},{"id":"3", "title":"Task3"}]'},this.GetComments=function(c,d){var e=b.defer();return a({method:"POST",url:d.concat("tasks/getTaskComments"),data:"id="+c,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.GetUsers=function(c,d){var e=b.defer();return a({method:"POST",url:d.concat("tasks/getTaskUsers"),data:"id="+c,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise}}]),angular.module("slenderpmApp.task.controller").controller("TasksCtrl",["$scope","$rootScope","MenuService","TasksService",function(a,b,c,d){c.Toggle("Tasks"),a.getTasks=function(){d.GetTasks(a.currProject.id,a.RESTURI).then(function(c){a.tasks=angular.fromJson(c),b.currTask=a.tasks[0],b.$broadcast("current-task-init")})},a.$on("current-project-init",function(){a.getTasks()}),a.getComments=function(){d.GetComments(a.currTask.id,a.RESTURI).then(function(b){a.comments=angular.fromJson(b)})},a.$on("current-task-init",function(){a.getComments()}),a.setCurrentTask=function(a){b.currTask=a},a.getUsers=function(){d.GetUsers(a.currTask.id,a.RESTURI).then(function(b){a.users=angular.fromJson(b)})},a.$on("current-task-init",function(){a.getUsers()})}]),angular.module("slenderpmApp.menu.config",[]).value("slenderpmApp.menu.config",{debug:!0}),angular.module("slenderpmApp.menu.directive",[]),angular.module("slenderpmApp.menu.factory",[]),angular.module("slenderpmApp.menu.service",[]),angular.module("slenderpmApp.menu.controller",[]),angular.module("slenderpmApp.menu",["slenderpmApp.menu.config","slenderpmApp.menu.directive","slenderpmApp.menu.factory","slenderpmApp.menu.service","slenderpmApp.menu.controller"]),angular.module("slenderpmApp.menu.directive",[]).directive("slenderTopMenu",function(){return{templateUrl:"modules/menu/views/ngSlenderFixedMenu.html",restrict:"E",link:function(){$("#selector").slenselect()}}}).directive("slenderBreadCrumb",function(){return{templateUrl:"modules/menu/views/ngSlenderBreadCrumb.html",restrict:"E"}}).directive("slenderMenu",function(){return{templateUrl:"modules/menu/views/ngSlenderMenu.html",restrict:"E"}}),angular.module("slenderpmApp.menu.factory").factory("MenuItemModule",function(){var a=function(a,b,c){this.name=a,this.icon=b,this.selected=c};return a}).factory("Project",function(){var a=function(a,b,c,d,e,f){this.projectName=c,this.projectDescription=d,this.startDate=e,this.endDate=f,this.projectCreator=a,this.projectManager=b};return a}),angular.module("slenderpmApp.menu.service").service("MenuService",["$http","$location","$rootScope","$q","$cookies","MenuItemModule",function(a,b,c,d,e,f){this.InitMenuItems=function(){var a=new f("Tasks","tasks",!0),b=new f("Comments","comments-o",!1),c=new f("Resources","group",!1),d=[];return d.push(a),d.push(b),d.push(c),d},this.GetProjects=function(b){var c=d.defer();return a({method:"POST",url:b.concat("users/getUserProjects"),data:"sessionId="+e.session,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){c.resolve(a)}).error(function(a){c.resolve(a)}),c.promise},this.AddProjects=function(b,c){var e=d.defer();return a({method:"POST",url:c.concat("projects/addProject"),data:JSON.stringify(b),headers:{"Content-Type":"application/json;"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.CurrentProject=function(a){c.currentProject=a},this.CurrentMenuItem=function(){for(var a=0;a<c.menuItems.length;a++)if(c.menuItems[a].selected)return c.menuItems[a]},this.ShowMenu=function(){return void 0!==e.session?!0:!1},this.Logout=function(){delete e.session,b.path("Login")},this.Toggle=function(a){for(var d=0;d<c.menuItems.length;d++)a===c.menuItems[d].name?(c.menuItems[d].selected=!0,c.currMenuItem=c.menuItems[d],c.$broadcast("load-"+a),console.log("load-"+a),b.path(c.currMenuItem.name)):c.menuItems[d].selected=!1},this.IsAuthenticated=function(){void 0===e.session&&b.path("Login")}}]),angular.module("slenderpmApp.menu.controller").controller("MenuCtrl",["$rootScope","$scope","MenuService","LoginService","Project",function(a,b,c,d,e){a.menuItems=c.InitMenuItems(),b.currentProject=function(b){a.currProject=b,a.$broadcast("current-project-init")},b.getUser=function(){d.GetUser(b.RESTURI).then(function(b){a.user=angular.fromJson(b)})},c.IsAuthenticated(),b.projectsLoading=!1,b.getProjects=function(){b.projectsLoading=!0,void 0===b.projects?(console.log(2),c.GetProjects(b.RESTURI).then(function(a){b.projectsLoading=!1,b.projects=angular.fromJson(a),b.currentProject(b.projects[0])})):(b.projectsLoading=!1,b.currentProject(b.currProject))},b.addProject=function(){b.projectDto=new e(b.user.id,b.user.id,b.projectName,b.projectDescription,b.startDate,b.endDate),c.AddProjects(b.projectDto,b.RESTURI).then(function(){})},b.$on("load-Tasks",function(){setTimeout(function(){a.$broadcast("current-project-init")},100)}),a.currMenuItem=c.CurrentMenuItem(),a.toggle=function(a){c.Toggle(a)},a.showMenu=function(){return c.ShowMenu()},a.logout=function(){c.Logout()}}]),angular.module("slenderpmApp.gantt.config",[]).value("slenderpmApp.gantt.config",{debug:!0}),angular.module("slenderpmApp.gantt.directive",[]),angular.module("slenderpmApp.gantt.factory",[]),angular.module("slenderpmApp.gantt.service",[]),angular.module("slenderpmApp.gantt.controller",[]),angular.module("slenderpmApp.gantt",["slenderpmApp.gantt.config","slenderpmApp.gantt.directive","slenderpmApp.gantt.factory","slenderpmApp.gantt.service","slenderpmApp.gantt.controller"]),angular.module("slenderpmApp.gantt.factory"),angular.module("slenderpmApp.gantt.service").service("GanttService",function(){this.FetchData=function(){return{data:[{id:1,text:"Project #2",start_date:"01-04-2013",duration:18,order:10,progress:.4,open:!0},{id:2,text:"Task #1",start_date:"02-04-2013",duration:8,order:10,progress:.6,parent:1},{id:3,text:"Task #2",start_date:"11-04-2013",duration:8,order:20,progress:.6,parent:1}],links:[{id:1,source:1,target:2,type:"1"},{id:2,source:2,target:3,type:"0"},{id:3,source:3,target:4,type:"0"},{id:4,source:2,target:5,type:"2"}]}}}),angular.module("slenderpmApp.gantt.controller").directive("dhxGantt",function(){return{restrict:"A",scope:!1,transclude:!0,template:"<div ng-transclude></div>",link:function(a,b,c){a.$watch(c.data,function(a){gantt.clearAll(),gantt.parse(a,"json")},!0),a.$watch(function(){return b[0].offsetWidth+"."+b[0].offsetHeight},function(){gantt.setSizes()}),gantt.init(b[0])}}}).controller("GanttCtrl",["$scope","MenuService","GanttService",function(a,b,c){b.Toggle("Gantt"),a.tasks=c.FetchData(1)}]),angular.module("slenderpmApp.comment.config",[]).value("slenderpmApp.comment.config",{debug:!0}),angular.module("slenderpmApp.comment.directive",[]),angular.module("slenderpmApp.comment.factory",[]),angular.module("slenderpmApp.comment.services",[]),angular.module("slenderpmApp.comment.controller",[]),angular.module("slenderpmApp.comment",["slenderpmApp.comment.config","slenderpmApp.comment.directive","slenderpmApp.comment.factory","slenderpmApp.comment.services","slenderpmApp.comment.controller"]),angular.module("slenderpmApp.comment.services").service("ProjectCommentService",["$http","$q",function(a,b){this.GetComments=function(c,d){var e=b.defer();return a({method:"POST",url:d.concat("projects/getProjectComments"),data:"id="+c,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise}}]),angular.module("slenderpmApp.comment.controller").controller("CommentsCtrl",["$scope","MenuService","ProjectCommentService",function(a,b,c){b.Toggle("Comments"),a.getComments=function(){c.GetComments(a.currProject.id,a.RESTURI).then(function(b){a.comments=angular.fromJson(b),console.log(a.comments)})},a.$on("load-Comments",function(){console.log("sdf"),setTimeout(function(){a.getComments()},100)})}]),angular.module("slenderpmApp.resource.config",[]).value("slenderpmApp.resource.config",{debug:!0}),angular.module("slenderpmApp.resource.directive",[]),angular.module("slenderpmApp.resource.factory",[]),angular.module("slenderpmApp.resource.service",[]),angular.module("slenderpmApp.resource.controller",[]),angular.module("slenderpmApp.resource",["slenderpmApp.resource.config","slenderpmApp.resource.directive","slenderpmApp.resource.factory","slenderpmApp.resource.service","slenderpmApp.resource.controller"]);