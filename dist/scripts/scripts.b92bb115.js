"use strict";angular.module("slenderpmApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","slenderpmApp.login","slenderpmApp.register","slenderpmApp.task","slenderpmApp.menu","slenderpmApp.gantt","slenderpmApp.comment","slenderpmApp.resource"]).run(["$rootScope",function(a){a.RESTURI="http://10.0.0.11:8084/slenderware-webservice-rest/webresources/",a.HEADERS={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST, GET, OPTIONS, PUT","Content-Type":"application/json",Accept:"application/json"}}]).factory("ResultModule",function(){var a=function(a,b){this.success=a,this.message=b};return a}).factory("SessionModule",function(){var a=function(a,b,c){this.username=a,this.page=b,this.token=c};return this.toString=function(){return console.log(this.username+", "+this.page+", "+this.token),this.username+", "+this.page+", "+this.token},a}).config(["$routeProvider",function(a){a.when("/Tasks",{templateUrl:"modules/task/views/tasks.html",controller:"TasksCtrl"}).when("/Gantt",{templateUrl:"modules/gantt/views/gantt.html",controller:"GanttCtrl"}).when("/Comments",{templateUrl:"modules/comment/views/comments.html",controller:"CommentsCtrl"}).when("/Resources",{templateUrl:"modules/resource/views/resources.html",controller:"ResourcesCtrl"}).when("/Login",{templateUrl:"modules/login/views/login.html",controller:"LoginCtrl"}).when("/Register",{templateUrl:"modules/register/views/register.html",controller:"RegisterCtrl"}).otherwise({redirectTo:"/Login"})}]),angular.module("slenderpmApp.login.config",[]).value("slenderpmApp.login.config",{debug:!0}),angular.module("slenderpmApp.login.directive",[]),angular.module("slenderpmApp.login.factory",[]),angular.module("slenderpmApp.login.service",[]),angular.module("slenderpmApp.login.controller",[]),angular.module("slenderpmApp.login",["slenderpmApp.login.config","slenderpmApp.login.directive","slenderpmApp.login.factory","slenderpmApp.login.service","slenderpmApp.login.controller"]),angular.module("slenderpmApp.login.factory").factory("LoginModule",function(){var a=function(a,b){this.username=a,this.password=b};return a}),angular.module("slenderpmApp.login.service").service("LoginService",["$http","$location","$q","$cookies","ResultModule","LoginModule",function(a,b,c,d,e,f){this.InitLoginModule=function(a,b){return new f(a,b)},this.Authenticate=function(b,d){var e=c.defer();return a({method:"POST",url:d.concat("acounts/authentication/authenticate"),data:"username="+b.username+"&password="+b.password,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.Register=function(){b.path("Register")},this.IsAuthenticated=function(){void 0!==d.session&&b.path("Tasks")}}]),angular.module("slenderpmApp.login.controller").controller("LoginCtrl",["$scope","$cookies","$location","LoginService",function(a,b,c,d){d.IsAuthenticated(),a.register=function(){d.Register()},a.authenticate=function(){var e=d.InitLoginModule(a.username,a.password);d.Authenticate(e,a.RESTURI).then(function(d){a.result=angular.fromJson(d),console.log(a.result),a.result.success&&(c.path("Tasks"),b.session=a.result.data)})},a.validate=function(a){return void 0===a?!0:0===a.length?!1:!0}}]),angular.module("slenderpmApp.register.config",[]).value("slenderpmApp.register.config",{debug:!0}),angular.module("slenderpmApp.register.directive",[]),angular.module("slenderpmApp.register.factory",[]),angular.module("slenderpmApp.register.service",[]),angular.module("slenderpmApp.register.controller",[]),angular.module("slenderpmApp.register",["slenderpmApp.register.config","slenderpmApp.register.directive","slenderpmApp.register.factory","slenderpmApp.register.service","slenderpmApp.register.controller"]),angular.module("slenderpmApp.register.factory").factory("RegisterModule",function(){var a=function(a,b,c,d,e){this.id=null,this.firstName=a,this.lastName=b,this.username=c,this.email=d,this.password=e,this.roleId=null,this.companyId=null,this.lastSeen=null};return a}).factory("RegisterCompanyModule",function(){var a=function(a,b,c,d,e){this.id=0,this.firstName=a,this.lastName=b,this.username=c,this.email=d,this.password=e,this.roleId=0,this.companyId=0,this.lastSeen=0};return a}),angular.module("slenderpmApp.register.service").service("RegisterService",["$http","$location","$q","$cookies","RegisterModule","ResultModule",function(a,b,c,d,e){this.InitRegisterModule=function(a,b,c,d,f){return new e(a,b,c,d,f)},this.IsAuthenticated=function(){void 0!==d.session&&b.path("Tasks")},this.RegisterUser=function(b,d){var e=c.defer();return console.log(JSON.stringify(b)),a({method:"POST",url:d.concat("acounts/authentication/addUser"),data:JSON.stringify(b),headers:{"Content-Type":"application/json"}}).success(function(a){e.resolve(a)}).error(function(a){e.resolve(a)}),e.promise},this.Back=function(){b.path("Login")}}]),angular.module("slenderpmApp.register.controller").controller("RegisterCtrl",["$scope","RegisterService",function(a,b){a.registerUser=function(c,d,e,f,g){var h=b.InitRegisterModule(c,d,e,f,g);b.RegisterUser(h,a.RESTURI).then(function(b){a.result=angular.fromJson(b),console.log(a.result)})},a.registerCompany=function(c,d,e,f,g){var h=b.InitRegisterModule(c,d,e,f,g);b.RegisterUser(h,a.RESTURI).then(function(b){a.result=angular.fromJson(b),console.log(a.result),a.stage=a.stage+1})},a.back=function(){b.Back()},a.stage=0,a.validate=function(a){return void 0===a?!0:0===a.length?!1:!0}}]),angular.module("slenderpmApp.task.config",[]).value("slenderpmApp.task.config",{debug:!0}),angular.module("slenderpmApp.task.directive",[]),angular.module("slenderpmApp.task.factory",[]),angular.module("slenderpmApp.task.service",[]),angular.module("slenderpmApp.task.controller",[]),angular.module("slenderpmApp.task",["ngSlenderUserList","ngSlenderAttachments","ngSlenderComments","ngSlenderProgress","ngSlenderList","slenderpmApp.task.config","slenderpmApp.task.directive","slenderpmApp.task.factory","slenderpmApp.task.service","slenderpmApp.task.controller"]),angular.module("slenderpmApp.task.factory").factory("TaskModule",function(){var a=function(a,b){this.username=a,this.password=b};return a}),angular.module("slenderpmApp.task.service"),angular.module("slenderpmApp.task.controller").factory("TaskModule",function(){var a=function(a,b){this.username=a,this.password=b};return a}).controller("TasksCtrl",["$scope","MenuService",function(a,b){b.Toggle("Tasks")}]),angular.module("slenderpmApp.menu.config",[]).value("slenderpmApp.menu.config",{debug:!0}),angular.module("slenderpmApp.menu.directive",[]),angular.module("slenderpmApp.menu.factory",[]),angular.module("slenderpmApp.menu.service",[]),angular.module("slenderpmApp.menu.controller",[]),angular.module("slenderpmApp.menu",["slenderpmApp.menu.config","slenderpmApp.menu.directive","slenderpmApp.menu.factory","slenderpmApp.menu.service","slenderpmApp.menu.controller"]),angular.module("slenderpmApp.menu.directive",[]).directive("slenderTopMenu",function(){return{templateUrl:"modules/menu/views/ngSlenderFixedMenu.html",restrict:"E",link:function(){$("#selector").slenselect()}}}).directive("slenderBreadCrumb",function(){return{templateUrl:"modules/menu/views/ngSlenderBreadCrumb.html",restrict:"E"}}).directive("slenderMenu",function(){return{templateUrl:"modules/menu/views/ngSlenderMenu.html",restrict:"E"}}),angular.module("slenderpmApp.menu.factory").factory("MenuItemModule",function(){var a=function(a,b,c){this.name=a,this.icon=b,this.selected=c};return a}),angular.module("slenderpmApp.menu.service").service("MenuService",["$http","$location","$rootScope","$q","$cookies","MenuItemModule",function(a,b,c,d,e,f){this.InitMenuItems=function(){var a=new f("Tasks","tasks",!0),b=new f("Gantt","area-chart",!1),c=new f("Comments","comments-o",!1),d=new f("Resources","group",!1),e=[];return e.push(a),e.push(b),e.push(c),e.push(d),e},this.GetProjects=function(b){var c=d.defer();return a({method:"POST",url:b.concat("projects/getProjects"),data:"sessionId="+e.session,headers:{"Content-Type":"application/x-www-form-urlencoded;"}}).success(function(a){c.resolve(a)}).error(function(a){c.resolve(a)}),c.promise},this.CurrentMenuItem=function(){for(var a=0;a<c.menuItems.length;a++)if(c.menuItems[a].selected)return c.menuItems[a]},this.ShowMenu=function(){return void 0!==e.session?!0:!1},this.Logout=function(){delete e.session,b.path("Login")},this.Toggle=function(a){for(var d=0;d<c.menuItems.length;d++)a===c.menuItems[d].name?(c.menuItems[d].selected=!0,c.currMenuItem=c.menuItems[d],b.path(c.currMenuItem.name)):c.menuItems[d].selected=!1},this.IsAuthenticated=function(){void 0===e.session&&b.path("Login")}}]),angular.module("slenderpmApp.menu.controller").controller("MenuCtrl",["$rootScope","$scope","MenuService",function(a,b,c){a.menuItems=c.InitMenuItems(),c.IsAuthenticated(),b.getProjects=function(){void 0===b.projects&&c.GetProjects(b.RESTURI).then(function(a){b.projects=angular.fromJson(a),console.log(b.projects)})},a.currMenuItem=c.CurrentMenuItem(),a.toggle=function(a){c.Toggle(a)},a.showMenu=function(){return c.ShowMenu()},a.logout=function(){c.Logout()}}]),angular.module("slenderpmApp.gantt.config",[]).value("slenderpmApp.gantt.config",{debug:!0}),angular.module("slenderpmApp.gantt.directive",[]),angular.module("slenderpmApp.gantt.factory",[]),angular.module("slenderpmApp.gantt.service",[]),angular.module("slenderpmApp.gantt.controller",[]),angular.module("slenderpmApp.gantt",["slenderpmApp.gantt.config","slenderpmApp.gantt.directive","slenderpmApp.gantt.factory","slenderpmApp.gantt.service","slenderpmApp.gantt.controller"]),angular.module("slenderpmApp.gantt.factory"),angular.module("slenderpmApp.gantt.service").service("GanttService",function(){this.FetchData=function(){return{data:[{id:1,text:"Project #2",start_date:"01-04-2013",duration:18,order:10,progress:.4,open:!0},{id:2,text:"Task #1",start_date:"02-04-2013",duration:8,order:10,progress:.6,parent:1},{id:3,text:"Task #2",start_date:"11-04-2013",duration:8,order:20,progress:.6,parent:1}],links:[{id:1,source:1,target:2,type:"1"},{id:2,source:2,target:3,type:"0"},{id:3,source:3,target:4,type:"0"},{id:4,source:2,target:5,type:"2"}]}}}),angular.module("slenderpmApp.gantt.controller").directive("dhxGantt",function(){return{restrict:"A",scope:!1,transclude:!0,template:"<div ng-transclude></div>",link:function(a,b,c){a.$watch(c.data,function(a){gantt.clearAll(),gantt.parse(a,"json")},!0),a.$watch(function(){return b[0].offsetWidth+"."+b[0].offsetHeight},function(){gantt.setSizes()}),gantt.init(b[0])}}}).controller("GanttCtrl",["$scope","MenuService","GanttService",function(a,b,c){b.Toggle("Gantt"),a.tasks=c.FetchData(1)}]),angular.module("slenderpmApp.comment.config",[]).value("slenderpmApp.comment.config",{debug:!0}),angular.module("slenderpmApp.comment.directive",[]),angular.module("slenderpmApp.comment.factory",[]),angular.module("slenderpmApp.comment.service",[]),angular.module("slenderpmApp.comment.controller",[]),angular.module("slenderpmApp.comment",["slenderpmApp.comment.config","slenderpmApp.comment.directive","slenderpmApp.comment.factory","slenderpmApp.comment.service","slenderpmApp.comment.controller"]),angular.module("slenderpmApp.resource.config",[]).value("slenderpmApp.resource.config",{debug:!0}),angular.module("slenderpmApp.resource.directive",[]),angular.module("slenderpmApp.resource.factory",[]),angular.module("slenderpmApp.resource.service",[]),angular.module("slenderpmApp.resource.controller",[]),angular.module("slenderpmApp.resource",["slenderpmApp.resource.config","slenderpmApp.resource.directive","slenderpmApp.resource.factory","slenderpmApp.resource.service","slenderpmApp.resource.controller"]);